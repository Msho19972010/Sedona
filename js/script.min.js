const popup=document.querySelector(".modal"),popupButton=document.querySelector(".booking__button"),form=popup.querySelector(".booking-form"),formButton=popup.querySelector(".form-button"),arriveInput=popup.querySelector(".booking-icon-arrive"),departureInput=popup.querySelector("[name=departure-date]"),adultCountInput=popup.querySelector("[name=mature-count]"),childrenCountInput=popup.querySelector("[name=children-count]");let isStorageSupport=!0,adult="",children="";try{adult=localStorage.getItem("adultCount"),children=localStorage.getItem("childrenCount")}catch(t){isStorageSupport=!1}popupButton.addEventListener("click",function(t){t.preventDefault(),popup.classList.contains("modal--show")?(popup.classList.remove("modal--show"),popup.classList.add("modal--close"),form.classList.add("form--close")):(popup.classList.add("modal--show"),popup.classList.remove("modal--close"),form.classList.remove("form--close")),adult&&children?(adultCountInput.value=adult,childrenCountInput.value=children,childrenCountInput.focus()):adultCountInput.focus()}),window.addEventListener("keydown",function(t){popup.classList.contains("modal--show")&&27===t.keyCode&&popup.classList.remove("modal--show")}),form.addEventListener("submit",function(t){adultCountInput.value&&arriveInput.value?isStorageSupport&&(localStorage.setItem("adultCount",adultCountInput.value),localStorage.setItem("childrenCount",childrenCountInput.value)):(t.preventDefault(),console.log("Пожалуйста заполните все необходимые поля: дата вылета и одбытия(если требуется), количетсво взрослых и детей(если детей не будет напишите 0)"))});
